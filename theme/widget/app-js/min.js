strawberry.debug=!0,strawberry.create("app",(function(){setTimeout((function(){$("#Loader").fadeOut(),$("#Loader").html(""),$("#main").fadeIn()}),1500)})),app.factory("TaskModel",(function(){return class{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now(),this.id=Math.floor(Date.now()*Math.random()),this.about="",this.SalesforceTicketId=null,this.status="pending",this.todos=[]}}})),app.factory("ToDoItem",(function(){return class{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now(),this.description="",this.status="new"}setDescription(t){this.description=t,this.updatedAt=Date.now(),this.status="pending"}}})),app.service("PageSvc",(function(t,e){return void 0===t.PageSvc&&(t.PageSvc={status:null}),{setStatus:function(s){t.PageSvc.status=s,e("PageStatus")}}})),app.service("Router",(function(t){return{route:{toTaskDBInit:function(){location.href="/welcome"}}}})),app.service("TaskDB",(function(t,e,s,a){class o{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now(),this.user=e.create(),this.tasks=a.create(),this.meta=s.create()}setCreatedAt(t){this.createdAt=t}exportDB(){return{createdAt:this.createdAt,updatedAt:this.updatedAt,user:this.user,tasks:this.tasks,meta:this.meta}}importDB(t){this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.user=e.import(t.user),this.tasks=a.import(t.tasks),this.meta=s.import(t.meta)}saveSnapshot(){localStorage.setItem("tskdb",JSON.stringify(this.exportDB()))}}let r=localStorage.getItem("tskdb"),n=function(){return null!==r},i=new o;return null!==r&&i.importDB(JSON.parse(r)),{hasInstance:n(),isTaskEmpty:function(){return i.tasks.isEmpty()},create:function(t){if(!n()){(new o).saveSnapshot()}t()}}})),app.service("TaskDBMeta",(function(){class t{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now()}setCreatedAt(t){this.createdAt=t}import(t){this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}return{create:function(){return new t},import:function(e){let s=new t;return s.import(e),s}}})),app.service("TaskDBUser",(function(t){class e{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now()}setCreatedAt(t){this.createdAt=t}import(t){this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}return{create:function(){return new e},import:function(t){let s=new e;return s.import(t),s}}})),app.service("TaskListManager",(function(){class t{constructor(){this.createdAt=Date.now(),this.updatedAt=Date.now(),this.taskList={}}setCreatedAt(t){this.createdAt=t}import(t){this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.taskList=t.taskList}isEmpty(){return console.log("asdads"),!0}}return{create:function(){return new t},import:function(e){let s=new t;return s.import(e),s}}})),app.service("TaskSvc",(function(t,e,s,a,o){let r=function(){let e=[];for(var s=0;s<t.Task.todos.length;s++)"new"!==t.Task.todos[s].status&&""!==t.Task.todos[s].description.trim()&&e.push(t.Task.todos[s]);t.Task.todos=e};return null==t.TaskSvc&&(t.TaskSvc={task:{create:function(){r(),console.log(t.Task),o("TaskToDoList")}},add:{todo:{item:function(){let e=new s;t.Task.todos.push(e),o("TaskToDoList")}}},update:{todo:{item:function(e,s){!function(e,s){void 0!==t.Task.todos[e]&&t.Task.todos[e].setDescription(s)}(e,s.$element.value),r(),o("TaskToDoList")}}},delete:{todo:{item:function(e){!function(e){let s=[];for(var a=0;a<t.Task.todos.length;a++)a!==e&&s.push(t.Task.todos[a]);t.Task.todos=s}(e),r(),o("TaskToDoList")}}}}),{task:{factory:function(){return new e}}}})),app.service("ThemeSvc",(function(t){let e=localStorage.getItem("tdotheme"),s=new class{constructor(){this.themeName="light"}setThemeName(t){this.themeName=t}importData(t){this.themeName=t.themeName}saveTheme(){localStorage.setItem("tdotheme",JSON.stringify({themeName:this.themeName}))}applyTheme(){let t=document.body.classList;for(var e=0;e<t.length;e++)"Light"===t[e]&&document.body.classList.remove("Light"),"Dark"===t[e]&&document.body.classList.remove("Dark");let s=this.themeName.charAt(0).toUpperCase()+this.themeName.slice(1);document.body.classList.add(s)}};return null===e?s.saveTheme():s.importData(JSON.parse(e)),void 0===t.Theme&&(t.Theme={name:s.themeName}),s.applyTheme(),{switch:function(){s.setThemeName(t.Theme.name),s.applyTheme(),s.saveTheme()}}})),app.service("UtilSvc",(function(t){return class{constructor(){}getCurrentTimestamp(){return moment().format("MMMM Do YYYY, h:mm:ss a")}toFormatDate(t){return moment(t).format("MMMM Do YYYY, h:mm:ss a")}toTimeAgo(t){return moment(t).fromNow()}}}));
